<!DOCTYPE html>
<html lang="ar">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">

<title>Ø§Ù„Ù…Ù†ØªØ¬</title>

<style>

.product{
max-width:1000px;
margin:auto;
padding:30px;
display:flex;
gap:40px;
background:white;
}

.product img{
width:400px;
object-fit:contain;
}

.price{
font-size:28px;
color:#B12704;
}

button{
padding:15px;
border:none;
background:#ffd814;
cursor:pointer;
margin-top:10px;
width:200px;
}

</style>

</head>

<body>

<div class="product" id="product"></div>


<script>

const params=new URLSearchParams(location.search);
const id=params.get("id");


fetch("/api/products/"+id)
.then(res=>res.json())
.then(p=>{

const priceAfter=p.price-(p.price*(p.discount||0)/100);

document.getElementById("product").innerHTML=`

<img src="${p.image}">

<div>

<h1>${p.name}</h1>

<div class="price">
${priceAfter} Ø¬Ù†ÙŠÙ‡
</div>

<p>${p.description}</p>

<button onclick='addToCart(${JSON.stringify(p)})'>
Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©
</button>

</div>

`;

});



function addToCart(product){

let cart=JSON.parse(localStorage.getItem("cart")) || [];

cart.push(product);

localStorage.setItem("cart",JSON.stringify(cart));

alert("ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø© ğŸ”¥");

}

</script>

</body>
</html>
