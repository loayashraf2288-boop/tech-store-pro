<!DOCTYPE html>
<html lang="ar">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Admin</title>

<style>

body{
font-family:Arial;
background:#020617;
color:white;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
flex-direction:column;
}

input{
padding:12px;
width:250px;
border-radius:8px;
border:none;
margin:10px 0;
}

button{
padding:12px 20px;
border:none;
border-radius:8px;
background:#00ffa6;
cursor:pointer;
font-weight:bold;
}

#panel{
display:none;
width:90%;
max-width:900px;
}

.card{
background:#031b14;
padding:20px;
border-radius:12px;
margin-top:20px;
}

</style>

</head>

<body>

<h1>ğŸ” Admin Login</h1>

<input id="code" placeholder="Ø§Ø¯Ø®Ù„ Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯">

<button onclick="login()">Ø¯Ø®ÙˆÙ„</button>


<!-- PANEL -->

<div id="panel">

<h2>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… ğŸ”¥</h2>

<div class="card">

<h3>Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬</h3>

<input id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
<input id="price" placeholder="Ø§Ù„Ø³Ø¹Ø±">
<input id="discount" placeholder="Ø®ØµÙ… %">
<input id="stock" placeholder="Ø§Ù„Ù…Ø®Ø²ÙˆÙ†">
<input id="image" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©">
<input id="desc" placeholder="Ø§Ù„ÙˆØµÙ">

<button onclick="addProduct()">Ø¥Ø¶Ø§ÙØ©</button>

</div>

</div>

<script>

async function login(){

const code = document.getElementById("code").value;

const res = await fetch("/admin-login",{

method:"POST",
headers:{
"Content-Type":"application/json"
},
body:JSON.stringify({code})

});

const data = await res.json();

if(data.success){

document.querySelector("h1").style.display="none";
document.querySelector("input").style.display="none";
document.querySelector("button").style.display="none";

document.getElementById("panel").style.display="block";

}else{

alert("Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯ ØºÙ„Ø· âŒ");

}

}



/* ADD PRODUCT */

async function addProduct(){

await fetch("/api/products",{

method:"POST",
headers:{
"Content-Type":"application/json"
},

body:JSON.stringify({

name:name.value,
price:+price.value,
discount:+discount.value,
stock:+stock.value,
description:desc.value,
images:[image.value]

})

});

alert("ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ ğŸ”¥");

}

</script>

</body>
</html>
