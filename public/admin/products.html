<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Products</title>

<style>

body{
margin:0;
font-family:Arial;
display:flex;
background:#020617;
color:white;
}

/* sidebar */

.sidebar{
width:230px;
background:#0f172a;
height:100vh;
padding:20px;
}

.sidebar h2{
color:#00ffd5;
}

.sidebar a{
display:block;
margin-top:15px;
color:white;
text-decoration:none;
}

/* main */

.main{
flex:1;
padding:30px;
}

.product{
background:#0f172a;
padding:15px;
border-radius:10px;
margin-bottom:15px;
display:flex;
align-items:center;
gap:15px;
}

.product img{
width:80px;
height:80px;
object-fit:cover;
border-radius:8px;
}

button{
border:none;
padding:8px 12px;
background:red;
color:white;
border-radius:6px;
cursor:pointer;
}

</style>
</head>

<body>

<div class="sidebar">

<h2>TECH STORE</h2>

<a href="dashboard.html">ğŸ  Dashboard</a>
<a href="products.html">ğŸ“¦ Products</a>
<a href="add-product.html">â• Add Product</a>
<a href="orders.html">ğŸ§¾ Orders</a>
<a href="coupons.html">ğŸ·ï¸ Coupons</a>

</div>



<div class="main">

<h1>ğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h1>

<div id="products"></div>

</div>



<script>

/* Ø­Ù…Ø§ÙŠØ© */
if(!localStorage.getItem("admin")){
location.href="/admin/login.html";
}

/* ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª */

fetch("/api/products")
.then(res=>res.json())
.then(data=>{

const box=document.getElementById("products");

box.innerHTML="";

data.forEach(p=>{

box.innerHTML+=`

<div class="product">

<img src="${p.image}">

<div style="flex:1;">
<h3>${p.name}</h3>
<p>${p.price} Ø¬Ù†ÙŠÙ‡</p>
</div>

<button onclick="deleteProduct(${p.id})">
Ø­Ø°Ù
</button>

</div>

`;

});

});


/* Ø­Ø°Ù */

async function deleteProduct(id){

if(!confirm("Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø­Ø°ÙØŸ")) return;

await fetch("/api/products/"+id,{
method:"DELETE"
});

location.reload();

}

</script>

</body>
</html>
