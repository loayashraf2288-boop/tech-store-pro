<!DOCTYPE html>
<html lang="ar">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>TECH STORE</title>

<link rel="stylesheet" href="style.css">

</head>

<body>

<!-- NAVBAR -->

<div class="nav">

<div class="logo">
ğŸ“± TECH STORE
</div>

<input class="search" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬...">

<button class="cart-btn" onclick="goCart()">
ğŸ›’ Ø§Ù„Ø³Ù„Ø©
</button>

<button class="cart-btn" onclick="toggleLang()">
ğŸŒ EN
</button>

</div>


<!-- PRODUCTS -->

<div class="grid" id="products"></div>



<script>

let lang="ar";

function toggleLang(){

 if(lang==="ar"){
   document.documentElement.lang="en";
   lang="en";
   alert("English coming soon ğŸ˜„");
 }else{
   document.documentElement.lang="ar";
   lang="ar";
 }

}



function goCart(){
 location.href="cart.html";
}


// ===== LOAD PRODUCTS =====

fetch("/api/products")
.then(res=>res.json())
.then(data=>{

 const container=document.getElementById("products");

 container.innerHTML="";

 data.forEach(p=>{

 const priceAfter = p.price - (p.price*(p.discount||0)/100);

 container.innerHTML+=`

 <div class="card">

 <img src="${p.image}">

 <h3>${p.name}</h3>

 ${
 p.discount
 ?
 `<div>
 <span class="old">${p.price} Ø¬Ù†ÙŠÙ‡</span>
 <span class="price">${priceAfter} Ø¬Ù†ÙŠÙ‡</span>
 </div>`
 :
 `<div class="price">${p.price} Ø¬Ù†ÙŠÙ‡</div>`
 }

 <button class="btn"
 onclick="location.href='product.html?id=${p.id}'">
 Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬
 </button>

 </div>
 `;
 });

});

</script>

</body>
</html>
